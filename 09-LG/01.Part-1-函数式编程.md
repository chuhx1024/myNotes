// 需要回顾补充笔记的 
- 08. 常用的高阶函数
- 13. 纯函数的好处
## 为什么要函数式编程
- React 就是
- vue 3 使用
- 可以抛弃 this
- 打包过程可以更好的利用 tree shaking 过滤无用的代码
- 方便测试 方便并行处理
- 有很多库可以帮助我们进行函数式编程 : lodash underscore ramda

## 概念
- Functional Programming , FP 是编程范式(面向过程, 面向对象)之一
- 用来描述数据之间的映射
```js
// 非函数式编程(面向过程)
let num1 = 1
let num2 = 2
let sum = num1 + num2 
console.log(sum)

// 函数式编程
function add (n1, n2) {
    return n1 + n2
}
let sum = add (1, 2)
console.log(sum)
```
- 函数式一等公民
    - 函数可以存储在变量中(数组中也可以)
    - 函数可以作为参数(就是高阶函数) Higher-order-function
    - 函数可以作为返回值(也是高阶函数)

### 高阶函数
- 函数作为参数
```js
// 模拟forEach 
function (arr, fn) {
    for (let i = 0; i < arr.length; i++>) {
        fn(arr[i])
    }
}
// 模拟 filter
function (arr, fn) {
    let results = []
    for (let i = 0; i< arr.lentht; i++) {
        if (fn(arr[i])) {
            res.push(arr[i])
        }
    }
    return results
}
```
- 函数作为返回值
```js
// 高阶函数作为返回值

// 基本语法
function makeFn () {
    let msg = "hello world"
    return function () {
        console.log(msg)
    }
}

// 调用
makeFn()()   // hello world

// 实现 once 函数 就是轮播图里的 锁 lodash中的 once 函数 
// 使用场景 支付 

function once (fn) {
    let done = false
    return function () {
        if (!done) {
            done = true
            fn(...arguments)
        }
    }
}

let pay = once(function(money){
    console.log(money)
})
pay(4)   // 4 // 只会执行一次
pay(4)   // 核心代码不执行
```
- 常用的高阶函数 
    - forEach map filter every some find/findIndex reduce sort ....
- 高阶函数的意义
    - 让代码更灵活
    - 实际是对通用性的一些抽象 让我们只关注自己逻辑
    - 使代码更简洁
- 常用的高阶函数
----------------------------------------------------------------------------------------08

### 闭包
- 概念 在一个函数1中定义一个变量2和函数3 在3总引用了2  就形成了闭包
```
function makeFn () {
    let msg = "hello world"
    return function () {
        console.log(msg)
    }
}
```
- 意义
    - 延长了 函数的作用范围(使用的本函数外部的变量)
    - 做的了缓存  比如上边的 once 函数 就缓存了 done 这个变量
- 本质
    - 函数在执行的时候 会放在一个执行栈上 当函数执行完毕就会从执行栈上移除
    - 但是 堆上的作用域成员(done 这个变量) 因为被外部引用不能被释放, 因此 内部函数依然可以访问外部函数的成员(done)

### 纯函数

- 概念: 相同的输入永远会得到相同的输出
- 举例
    - lodash 是一个纯函数的功能库
    - 数组的 slice(纯函数) splice(非纯函数 因为他改变了原数组 导出 多次相同的输入得到不同输出)
- 好处

----------------------------------------------------------------------------------------13

- 副作用
    - 当一个纯函数 依赖外部变量(配置文件, 数据库, 获取用户的输入)时 就会变得不纯
    - 所有的外部交互都可能带来副作用 副作用是方法的通用性下降 带来安全隐患
    - 不能完全禁止 尽量控制他们在可控范围内发生

# 函数柯里化 (curry)


